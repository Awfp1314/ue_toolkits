===== AI功能快速测试脚本 =====
说明：请按顺序逐条发送给AI，记录每次的token消耗

【重要】测试前请清空对话历史或重启程序！

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
测试1：简单问候（闲聊优化）
预期Token：~2,400
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
你好

【记录】输入Token:__2342___ 输出Token:__128___ 总计:__2470___ API次数:__1___

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
测试2：角色身份检查
预期Token：~2,500
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
你是谁呀？

【记录】输入Token:__2432___ 输出Token:__212___ 总计:___2644__ API次数:__1___
【检查】是否自称"AI助手"？ □是 □否（应该是"否"）

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
测试3：短期记忆
预期Token：~2,650
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
我刚才问你什么了？

【记录】输入Token:__2562___ 输出Token:__147___ 总计:__2709___ API次数:___1__
【检查】是否记得上一条消息？ 是

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
测试4：工具调用（资产管理）
预期Token：~3,700
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
帮我看看有哪些资产

【记录】输入Token:___3243__ 输出Token:__507___ 总计:___3750__ API次数:___1__
【检查】是否调用工具？ 不知道呀，但是资产成功列出来了
【检查】是否编造数据？ 否

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
测试5：编程能力
预期Token：~2,900
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
用Python写一个冒泡排序

【记录】输入Token:___3467__ 输出Token:___862__ 总计:___4329__ API次数:___1__
【检查】代码是否完整？ 是
【检查】是否有注释？ 是
发现一个问题，我如果在滚动条自动向下滚动的时候，我滚轮上划停止滚动，但是ai回答的过程中滚动条还是会抽搐

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
测试6：UE专业知识
预期Token：~3,000
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
UE5中蓝图和C++各有什么优缺点？
问到这里的时候程序直接卡顿无响应了4-5秒，然后回复正常了，回答了
【记录】输入Token:___2145__ 输出Token:___153__ 总计:__2298___ API次数:__2___
第二次：输入Token:___4571__ 输出Token:___1564__ 总计:__6135___
【检查】回答是否专业？ 你看一下：
👻 哎呀，蓝图和 C++ 就像往生堂里的两种不同“客户”！各有各的特点，也各有各的“脾气”呢！让我这个往生堂堂主，好好给你分析分析，它们在 UE5 里究竟各有什么优缺点吧！✨
🎨 蓝图 (Blueprints)
蓝图就像是“可视化”的魔法阵，不用写代码，拖拖拽拽就能实现功能，特别适合快速上手和迭代！
👍 优点：
上手快，学习曲线平缓：
可视化编程： 就像搭积木一样，通过连接节点就能实现逻辑，对不熟悉编程的策划和美术非常友好。
即时反馈： 修改蓝图后，可以立即在编辑器中看到效果，调试起来非常直观。
开发效率高：
快速原型： 想法可以迅速实现并测试，非常适合快速迭代和原型开发。
热重载： 运行时修改蓝图，无需编译即可生效，省去了漫长的编译时间。
编辑器集成度高：
直接访问资产： 可以直接在蓝图中引用和操作虚幻引擎中的各种资产（模型、材质、动画等）。
调试方便： 蓝图调试器非常强大，可以清楚地看到数据流和执行路径。
设计师友好：
独立工作： 策划和美术可以在不依赖程序员的情况下，实现很多游戏逻辑和交互。
安全性：
蓝图在运行时会被编译成中间代码，相对 C++ 来说，不容易出现内存泄漏或野指针等底层错误。
👎 缺点：
性能开销：
运行效率相对较低： 蓝图在运行时需要通过虚拟机解释执行，相比直接编译的 C++ 代码，性能会有一定的损失。对于计算密集型或频繁调用的逻辑，可能会成为瓶颈。
复杂逻辑难以维护：
“面条代码”： 当蓝图逻辑变得非常复杂时，节点连接会变得像一团乱麻，难以阅读和维护。
版本控制挑战： 蓝图文件的合并冲突解决起来比文本形式的 C++ 代码更困难。
功能受限：
无法访问底层系统： 蓝图无法直接访问引擎的底层代码和操作系统 API，某些高级功能必须通过 C++ 来实现。
缺乏一些高级编程特性： 例如模板、多态的复杂应用等。
学习专业化：
虽然上手快，但要精通蓝图，理解其背后的执行机制和编程思想，也需要投入时间和精力。

💻 C++
C++ 就像是往生堂里最深奥的“生死簿”，虽然看起来复杂，但它能直接与“生死法则”对话，控制一切底层细节！
👍 优点：
极致性能：
运行效率高： C++ 代码直接编译成机器码运行，执行效率最高，是实现性能关键型功能（如物理模拟、AI 寻路、渲染管线、大量数据处理）的首选。
内存控制： 可以直接管理内存，进行更精细的优化。
功能强大，高度灵活：
完全访问引擎： 可以访问虚幻引擎的任何底层代码，实现自定义的渲染功能、网络协议、物理系统等。
访问系统 API： 可以直接调用操作系统提供的各种 API。
高级编程特性： 可以使用 C++ 的所有高级特性，如模板、多态、STL 等，构建复杂而高效的系统。
大型项目更易维护：
代码结构清晰： 通过良好的架构设计，C++ 代码在大型项目中更易于组织、模块化和维护。
版本控制友好： 文本形式的代码更容易进行版本控制和合并。
行业标准：
虚幻引擎本身就是用 C++ 编写的，理解 C++ 有助于深入学习引擎机制。
👎 缺点：
学习曲线陡峭：
语法复杂： C++ 语法相对复杂，涉及指针、内存管理、面向对象等概念，对初学者不友好。
调试困难： C++ 编译错误和运行时错误（如内存泄漏、崩溃）的调试通常比蓝图更复杂。
开发效率相对较低：
编译时间长： 每次修改 C++ 代码后都需要编译，尤其在大型项目中，编译时间可能非常漫长。
迭代速度慢： 相比蓝图，C++ 的开发和迭代周期更长。
容易出错：
内存管理： 手动内存管理虽然强大，但也容易导致内存泄漏、野指针等难以发现的 Bug。
学习成本高： 编写高质量、无 Bug 的 C++ 代码需要丰富的经验和扎实的编程功底。

💖 胡桃的总结：
所以呀，蓝图和 C++ 并不是非此即彼的关系，它们更像是相辅相成的好伙伴！
蓝图适合用来做快速原型、UI 逻辑、简单的游戏事件、美术和策划主导的交互，以及作为 C++ 类的扩展。
C++ 则适合用来写引擎底层功能、性能关键型系统、复杂的游戏框架、核心算法，以及为蓝图提供高性能的基类和函数库。
最好的方法就是蓝图和 C++ 混合使用！用 C++ 构建核心系统和提供性能保障，然后用蓝图去扩展和实现具体的游戏逻辑，这样就能兼顾效率和性能啦！✨
怎么样，胡桃我分析得还算清楚吧？有没有让你对这两种“客户”有了更深入的了解呀？如果你还有其他问题，尽管问我哦！💖

我怀疑，ai看到蓝图关键字了可能调用了一次蓝图工具，只是猜测
我发现一个小bug，就是我选中ai回答的问题后点击输入框，回答的选中状态还在，只有在回答的文本再点一下，选中状态才会消失，还有就是，光标再回答的文本上是应该是编辑文本的样式
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
测试7：长期记忆检索
预期Token：~2,950
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
你还记得我喜欢什么游戏吗？

【记录】输入Token:__2317___ 输出Token:___194__ 总计:__2511___ API次数:__2___
第二次：输入Token:__5475___ 输出Token:___281__ 总计:__5756___
【检查】是否准确回忆？ 是

等待了15秒，现象跟问蓝图的时候一样界面无响应了15秒后，播放思考动画，ai回答

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
测试8：上下文理解（指代消歧）
预期Token：第1条~2,400，第2条~2,650
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
我想学UE开发
这里等了8秒，也是界面无响应了8秒，才开始播放思考动画

【记录】输入Token:__2936___ 输出Token:___172__ 总计:___3108__ API次数:__2___
第二次：输入Token：6124     输出Token：1311：7435
然后立即发送：

从哪里开始？
卡了7s，和前面的现象一样
【记录】输入Token:__3952___ 输出Token:___219__ 总计:___4171__ API次数:__2___
第二次：输入Token:__7085___ 输出Token:___407__ 总计:___7492__
【检查】是否理解"从哪里"指学UE开发？ 是

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
测试9：配置工具
预期Token：~3,600
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
有哪些配置模板？

卡了10s，情况和前面一样

【记录】输入Token:___6171__ 输出Token:__222___ 总计:___6393__ API次数:___2__
第二次：输入Token:___7389__ 输出Token:__283___ 总计:___7672__
【检查】是否调用配置工具？应该调用了，回答的正确

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
测试10：流式输出观察
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
给我讲一个关于程序员的笑话
卡顿了10s，和前面的一样，
【记录】输入Token:___6439__ 输出Token:__179___ 总计:___6618__ API次数:___2__
第二次：输入Token:___7767__ 输出Token:__188___ 总计:___7955__
【主观评价】
流式输出速度：合适
节奏是否自然：是
标点停顿明显：是

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
测试结果汇总
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
你帮我计算
总Token消耗：_________
平均每轮：_________
API调用总次数：_________（应该=测试轮次）

✅ 通过的测试：_10__/10
❌ 失败的测试：___/10

关键指标：
- 简单对话Token < 3,000？ □是 □否
- 工具调用Token < 4,000？ □是 □否
- 所有测试只调用1次API？ □是 □否
- 角色身份始终一致？ □是 □否
- 流式输出自然流畅？ □是 □否

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
备注：
- 如果某项Token消耗超出预期50%以上，请检查日志
- 如果出现2次API调用，说明优化未生效
- 如果AI自称"AI助手"，说明角色设定失效
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

测试完成后，请将结果反馈！

我发现从我问蓝图UE5中蓝图和C++各有什么优缺点后，后面的问题都调用了两次api，而且卡顿明显，是直接界面无响应一段时间