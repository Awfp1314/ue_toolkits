# Resources èµ„æºæ–‡ä»¶

æœ¬ç›®å½•åŒ…å«åº”ç”¨ç¨‹åºçš„é™æ€èµ„æºæ–‡ä»¶ï¼ŒåŒ…æ‹¬æ ·å¼è¡¨ã€ä¸»é¢˜ã€æ¨¡æ¿å’Œå›¾æ ‡ç­‰ã€‚

## ğŸ“ ç›®å½•ç»“æ„

```
resources/
â”œâ”€â”€ qss/                      # QSS æ ·å¼è¡¨
â”‚   â”œâ”€â”€ components/           # ç»„ä»¶æ ·å¼
â”‚   â”œâ”€â”€ themes/               # ä¸»é¢˜æ ·å¼
â”‚   â””â”€â”€ variables.qss         # æ ·å¼å˜é‡
â”œâ”€â”€ templates/                # é…ç½®æ¨¡æ¿
â”‚   â””â”€â”€ global_settings.json  # å…¨å±€è®¾ç½®æ¨¡æ¿
â”œâ”€â”€ themes/                   # ä¸»é¢˜é…ç½®
â”‚   â”œâ”€â”€ example_custom_theme.json  # ç¤ºä¾‹è‡ªå®šä¹‰ä¸»é¢˜
â”‚   â”œâ”€â”€ forest_green.json     # æ£®æ—ç»¿ä¸»é¢˜
â”‚   â”œâ”€â”€ sunset_orange.json    # æ—¥è½æ©™ä¸»é¢˜
â”‚   â””â”€â”€ violet.json           # ç´«ç½—å…°ä¸»é¢˜
â””â”€â”€ tubiao.ico                # åº”ç”¨å›¾æ ‡
```

## ğŸ¨ QSS æ ·å¼è¡¨

### ç»„ä»¶æ ·å¼ (`qss/components/`)

ç»„ä»¶åŒ–çš„æ ·å¼æ–‡ä»¶ï¼Œæ¯ä¸ªç»„ä»¶å¯¹åº”ä¸€ä¸ª QSS æ–‡ä»¶ï¼š

- **`buttons.qss`** - æŒ‰é’®æ ·å¼
  - æ™®é€šæŒ‰é’®
  - ä¸»æŒ‰é’® (Primary)
  - å±é™©æŒ‰é’® (Danger)
  - æ–‡æœ¬æŒ‰é’® (Text)

- **`chat_input.qss`** - èŠå¤©è¾“å…¥æ¡†æ ·å¼
  - è¾“å…¥åŒºåŸŸæ ·å¼
  - å‘é€æŒ‰é’®æ ·å¼

- **`chatgpt_composer.qss`** - ChatGPT é£æ ¼è¾“å…¥æ¡†
  - èƒ¶å›Šå®¹å™¨æ ·å¼
  - ç„¦ç‚¹çŠ¶æ€
  - é˜´å½±æ•ˆæœ

- **`config_tool.qss`** - é…ç½®å·¥å…·æ ·å¼
  - é…ç½®ç¼–è¾‘å™¨æ ·å¼
  - å‚æ•°è¾“å…¥æ ·å¼

- **`confirmation_dialog.qss`** - ç¡®è®¤å¯¹è¯æ¡†æ ·å¼
  - å¯¹è¯æ¡†å¸ƒå±€
  - æŒ‰é’®ç»„æ ·å¼

- **`dialogs.qss`** - é€šç”¨å¯¹è¯æ¡†æ ·å¼
  - æ¨¡æ€å¯¹è¯æ¡†
  - æ¶ˆæ¯æ¡†

- **`main_window.qss`** - ä¸»çª—å£æ ·å¼
  - çª—å£èƒŒæ™¯
  - å¸ƒå±€æ ·å¼

- **`markdown_message.qss`** - Markdown æ¶ˆæ¯æ ·å¼
  - æ¶ˆæ¯æ°”æ³¡
  - Markdown æ¸²æŸ“æ ·å¼

- **`scrollbars.qss`** - æ»šåŠ¨æ¡æ ·å¼
  - å‚ç›´æ»šåŠ¨æ¡
  - æ°´å¹³æ»šåŠ¨æ¡
  - æ»šåŠ¨æ¡æ‰‹æŸ„

- **`title_bar.qss`** - æ ‡é¢˜æ æ ·å¼
  - è‡ªå®šä¹‰æ ‡é¢˜æ 
  - çª—å£æ§åˆ¶æŒ‰é’®

### ä¸»é¢˜æ ·å¼ (`qss/themes/`)

å…¨å±€ä¸»é¢˜æ ·å¼æ–‡ä»¶ï¼š

- **`dark.qss`** - æ·±è‰²ä¸»é¢˜
  - èƒŒæ™¯è‰²: #212121
  - æ–‡æœ¬è‰²: #EDEDED
  - å¼ºè°ƒè‰²: è“è‰²ç³»

- **`light.qss`** - æµ…è‰²ä¸»é¢˜
  - èƒŒæ™¯è‰²: #FFFFFF
  - æ–‡æœ¬è‰²: #2d333a
  - å¼ºè°ƒè‰²: è“è‰²ç³»

### æ ·å¼å˜é‡ (`variables.qss`)

å®šä¹‰å…¨å±€æ ·å¼å˜é‡ï¼ˆCSS å˜é‡é£æ ¼ï¼‰ï¼š

```css
/* é¢œè‰²å˜é‡ */
--primary-color: #3390FF;
--danger-color: #FF4D4F;
--success-color: #52C41A;
--warning-color: #FAAD14;

/* é—´è·å˜é‡ */
--spacing-xs: 4px;
--spacing-sm: 8px;
--spacing-md: 16px;
--spacing-lg: 24px;

/* åœ†è§’å˜é‡ */
--border-radius-sm: 4px;
--border-radius-md: 8px;
--border-radius-lg: 12px;
```

## ğŸŒˆ ä¸»é¢˜é…ç½® (`themes/`)

### ä¸»é¢˜æ–‡ä»¶æ ¼å¼

```json
{
    "name": "ä¸»é¢˜åç§°",
    "description": "ä¸»é¢˜æè¿°",
    "colors": {
        "primary": "#3390FF",
        "background": "#212121",
        "text": "#EDEDED",
        "accent": "#8E8EA0"
    },
    "styles": {
        "font_family": "Microsoft YaHei UI",
        "font_size": "14px",
        "border_radius": "8px"
    }
}
```

### å†…ç½®ä¸»é¢˜

1. **æ£®æ—ç»¿ (forest_green.json)**
   - ä¸»è‰²: ç»¿è‰²ç³»
   - é€‚åˆé•¿æ—¶é—´ä½¿ç”¨ï¼ŒæŠ¤çœ¼

2. **æ—¥è½æ©™ (sunset_orange.json)**
   - ä¸»è‰²: æ©™è‰²ç³»
   - æ¸©æš–ã€æ´»åŠ›

3. **ç´«ç½—å…° (violet.json)**
   - ä¸»è‰²: ç´«è‰²ç³»
   - ä¼˜é›…ã€ç¥ç§˜

## ğŸ“‹ é…ç½®æ¨¡æ¿ (`templates/`)

### å…¨å±€è®¾ç½®æ¨¡æ¿ (`global_settings.json`)

```json
{
    "app": {
        "theme": "dark",
        "language": "zh_CN",
        "auto_save": true
    },
    "ui": {
        "window_size": [1280, 720],
        "window_position": [100, 100],
        "sidebar_width": 200
    }
}
```

## ğŸ–¼ï¸ å›¾æ ‡ (`tubiao.ico`)

åº”ç”¨ç¨‹åºå›¾æ ‡ï¼Œæ”¯æŒå¤šå°ºå¯¸ï¼š
- 16x16
- 32x32
- 48x48
- 256x256

## ğŸš€ ä½¿ç”¨æŒ‡å—

### åŠ è½½æ ·å¼

```python
from core.utils.style_loader import StyleLoader

# åŠ è½½ä¸»é¢˜æ ·å¼
StyleLoader.load_theme("dark")

# åŠ è½½ç»„ä»¶æ ·å¼
StyleLoader.load_component("buttons")

# åŠ è½½è‡ªå®šä¹‰ QSS
style = StyleLoader.load_qss("path/to/style.qss")
widget.setStyleSheet(style)
```

### åˆ‡æ¢ä¸»é¢˜

```python
from core.utils.theme_manager import ThemeManager

# è·å–ä¸»é¢˜ç®¡ç†å™¨
theme_manager = ThemeManager.instance()

# åˆ‡æ¢ä¸»é¢˜
theme_manager.set_theme("light")  # æˆ– "dark"

# åŠ è½½è‡ªå®šä¹‰ä¸»é¢˜
theme_manager.load_custom_theme("path/to/theme.json")
```

### ä½¿ç”¨ä¸»é¢˜é…ç½®

```python
from core.utils.theme_manager import ThemeManager

theme_manager = ThemeManager.instance()

# è·å–ä¸»é¢˜é…ç½®
theme_config = theme_manager.get_theme_config()

# ä½¿ç”¨ä¸»é¢˜é¢œè‰²
primary_color = theme_config["colors"]["primary"]
background_color = theme_config["colors"]["background"]
```

## ğŸ¨ è‡ªå®šä¹‰æ ·å¼

### åˆ›å»ºè‡ªå®šä¹‰ç»„ä»¶æ ·å¼

1. åœ¨ `qss/components/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„ `.qss` æ–‡ä»¶
2. ç¼–å†™æ ·å¼è§„åˆ™
3. ä½¿ç”¨ `StyleLoader` åŠ è½½

ç¤ºä¾‹ (`custom_button.qss`):

```css
QPushButton#CustomButton {
    background-color: #3390FF;
    color: #FFFFFF;
    border: none;
    border-radius: 8px;
    padding: 8px 16px;
    font-size: 14px;
}

QPushButton#CustomButton:hover {
    background-color: #5CA6FF;
}

QPushButton#CustomButton:pressed {
    background-color: #2E7FDB;
}
```

### åˆ›å»ºè‡ªå®šä¹‰ä¸»é¢˜

1. å¤åˆ¶ `example_custom_theme.json`
2. ä¿®æ”¹é¢œè‰²å’Œæ ·å¼é…ç½®
3. ä½¿ç”¨ `ThemeManager.load_custom_theme()` åŠ è½½

ç¤ºä¾‹ (`my_theme.json`):

```json
{
    "name": "æˆ‘çš„ä¸»é¢˜",
    "description": "è‡ªå®šä¹‰ä¸»é¢˜",
    "colors": {
        "primary": "#FF6B6B",
        "background": "#1A1A2E",
        "text": "#E0E0E0",
        "accent": "#16213E"
    },
    "styles": {
        "font_family": "Arial",
        "font_size": "14px",
        "border_radius": "6px"
    }
}
```

## ğŸ“ æ ·å¼å¼€å‘è§„èŒƒ

### QSS å‘½åè§„èŒƒ

- **ç±»å**: ä½¿ç”¨ `QWidgetName` (Qt æ ‡å‡†ç±»å)
- **å¯¹è±¡å**: ä½¿ç”¨ `#ObjectName` (é©¼å³°å‘½å)
- **çŠ¶æ€**: ä½¿ç”¨ `:state` (å¦‚ `:hover`, `:pressed`)

### æ ·å¼ç»„ç»‡

- **æ¨¡å—åŒ–**: æ¯ä¸ªç»„ä»¶ä¸€ä¸ªæ–‡ä»¶
- **å¤ç”¨æ€§**: å®šä¹‰å¯å¤ç”¨çš„æ ·å¼ç±»
- **ä¸€è‡´æ€§**: ä¿æŒé¢œè‰²ã€é—´è·ä¸€è‡´

### æ³¨é‡Šè§„èŒƒ

```css
/* ==================== æŒ‰é’®æ ·å¼ ==================== */

/* ä¸»æŒ‰é’® */
QPushButton#PrimaryButton {
    /* æ ·å¼è§„åˆ™ */
}

/* å±é™©æŒ‰é’® */
QPushButton#DangerButton {
    /* æ ·å¼è§„åˆ™ */
}
```

## âš ï¸ æ³¨æ„äº‹é¡¹

- **è·¯å¾„**: ä½¿ç”¨ç›¸å¯¹è·¯å¾„å¼•ç”¨èµ„æº
- **ç¼–ç **: QSS æ–‡ä»¶ä½¿ç”¨ UTF-8 ç¼–ç 
- **æ€§èƒ½**: é¿å…è¿‡åº¦åµŒå¥—çš„æ ·å¼è§„åˆ™
- **å…¼å®¹æ€§**: æµ‹è¯•ä¸åŒæ“ä½œç³»ç»Ÿä¸‹çš„æ ·å¼è¡¨ç°
- **ç‰ˆæœ¬æ§åˆ¶**: é‡è¦æ ·å¼ä¿®æ”¹éœ€è¦ç‰ˆæœ¬è¯´æ˜

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [Qt QSS å‚è€ƒ](https://doc.qt.io/qt-6/stylesheet-reference.html)
- [ä¸»é¢˜å¼€å‘æŒ‡å—](../docs/theme_development.md)
- [æ ·å¼æœ€ä½³å®è·µ](../docs/styling_best_practices.md)

